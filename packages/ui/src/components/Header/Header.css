/* ==========================================
   Header Component Stylesheet
   ==========================================
   
   PURPOSE:
   Provides responsive header navigation styling with support for light
   and dark variants. This component consumes brand design tokens from
   the central style.css file located in apps/web/src/styles/.
   
   ARCHITECTURE:
   Component-specific CSS variables (--header-*) are derived from the
   global brand tokens (--brand-*, --font-*). This creates a layer of
   indirection that allows the header to adapt to brand changes while
   maintaining component-specific customization capability.
   
   VARIANT SYSTEM:
   - .header--dark: White text on dark/transparent background (hero sections)
   - .header--light: Dark text on light background (standard pages)
   
   DEPENDENCIES:
   Requires style.css to be imported before this stylesheet to ensure
   brand token availability.
   
   ========================================== */

/* ==========================================
   SECTION 1: Component-Level Design Tokens
   ------------------------------------------
   These variables bridge global brand tokens to component-specific
   naming. Consumers can override these without modifying brand tokens.
   ========================================== */
:root {
  /* Background colors derived from brand palette */
  --header-bg: var(--brand-ink, #0d0d0d);
  --header-bg-light: var(--brand-bg-primary, #fefefe);
  --header-bg-dark: var(--brand-ink, #0d0d0d);
  
  /* Text colors using brand tokens */
  --header-text: var(--brand-white, #fefefe);
  --header-text-hover: var(--brand-meta, #cccccc);
  
  /* Accent colors mapped to brand link colors */
  --header-accent: var(--brand-link, #B55329);
  --header-accent-hover: var(--brand-link-hover, #9F4017);
  
  /* Component-specific layout token */
  --header-height: 90px;
}

/* ==========================================
   SECTION 2: Main Layout Structure
   ------------------------------------------
   Core structural styles for the header container and positioning.
   ========================================== */

.header {
  position: relative;
  z-index: 1000;
  width: 100%;
  font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif);
}

.header--position-over {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  background-color: transparent;
}

.header__container {
  max-width: 1650px; /* Header width */
  margin: 0 auto;
  padding: 0 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--header-height);
}

/* ==========================================
   SECTION 3: Logo Section
   ------------------------------------------
   Brand logo display with responsive sizing and variant-aware
   color inversion for dark/light background compatibility.
   ========================================== */
.header__logo-wrapper {
  flex-shrink: 0;
  display: flex;
  align-items: center;
}

.header__logo-link {
  display: block;
  text-decoration: none;
}

.header__logo-image {
  height: 24px; /* Adjusted to match text-logo scaling */
  width: auto;
  display: block;
  /* If the logo is black text on transp background, this filter flips it to white. 
     Remove if you upload a proper white logo. */
  filter: brightness(0) invert(1); 
}

/* ==========================================
   SECTION 4: Desktop Navigation
   ------------------------------------------
   Primary navigation menu for desktop viewports (1024px+).
   Features dropdown submenus with hover-activated display.
   ========================================== */
.header__nav-desktop {
  display: none;
  flex: 1;
  justify-content: right;
  padding: 0 2rem;
}

@media (min-width: 1024px) {
  .header__nav-desktop {
    display: flex;
  }
}

.header__menu {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 2.5rem; /* Spacious spacing per screenshot */
  align-items: center;
}

.header__menu-item {
  position: relative;
}

.header__menu-link {
  display: flex;
  align-items: center;
  gap: 6px;
  text-decoration: none;
  color: var(--header-text);
  font-size: var(--text-body-lg, 18px);
  font-weight: var(--weight-medium, 500);
  letter-spacing: 0.5px;
  transition: color 0.3s ease;
}

.header__menu-link:hover {
  color: var(--header-accent);
}

.header__dropdown-icon {
  width: 10px;
  height: 10px;
  fill: currentColor;
  opacity: 0.7;
  transition: transform 0.3s ease;
}

.header__menu-item:hover .header__dropdown-icon {
  transform: rotate(180deg);
}

/* Desktop Submenu (Dropdown)
   Uses brand ink color for dark dropdown panels. */
.header__submenu {
  display: none;
  position: absolute;
  top: 100%;
  left: -20px;
  min-width: 220px;
  background-color: var(--brand-ink, #1a1a1a);
  box-shadow: var(--shadow-deep, 0 10px 30px rgba(0, 0, 0, 0.5));
  list-style: none;
  margin: 0;
  padding: 1rem 0;
  border-radius: 4px;
  z-index: 1001;
  padding-top: 10px;
}

.header__menu-item:hover .header__submenu {
  display: block;
  animation: fadeIn 0.2s ease-out;
}

.header__submenu-link {
  display: block;
  padding: 0.75rem 1.5rem;
  text-decoration: none;
  color: var(--brand-meta, #ccc);
  font-size: var(--text-caption, 14px);
  transition: all 0.2s ease;
}

.header__submenu-link:hover {
  background-color: var(--brand-slate, #333);
  color: var(--header-accent);
  padding-left: 1.75rem;
}

/* ==========================================
   SECTION 5: Actions Section (CTA and Toggle)
   ------------------------------------------
   Right-aligned action area containing the primary CTA button
   and mobile menu toggle. CTA hidden on small mobile devices.
   ========================================== */
.header__actions {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  flex-shrink: 0;
}

/* Primary Call-to-Action Button
   Uses brand accent color with hover state animation. */
.header__cta-btn {
  display: none;
  background-color: var(--header-accent);
  color: var(--brand-white, #fff);
  text-decoration: none;
  padding: 0.5rem 1.0rem;
  border-radius: 4px;
  font-weight: var(--weight-semibold, 600);
  font-size: var(--text-body-lg, 18px);
  transition: background-color 0.3s ease, transform 0.2s ease;
  white-space: nowrap;
}

.header__cta-btn:hover {
  background-color: var(--header-accent-hover);
  transform: translateY(-1px);
}

@media (min-width: 768px) {
  .header__cta-btn {
    display: inline-block;
  }
}

/* Mobile Toggle */
.header__mobile-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 4px;
  cursor: pointer;
  padding: 0.5rem;
  color: var(--header-text);
  transition: background 0.3s ease;
}

.header__mobile-toggle:hover {
  background: rgba(255,255,255,0.1);
}

@media (min-width: 1024px) {
  .header__mobile-toggle {
    display: none;
  }
}

.header__toggle-icon {
  width: 20px;
  height: 20px;
}

/* ==========================================
   SECTION 6: Mobile Menu Drawer
   ------------------------------------------
   Expandable mobile navigation panel displayed below the header.
   Features accordion-style submenus and mobile CTA placement.
   ========================================== */
.header__mobile-menu {
  position: absolute;
  top: var(--header-height);
  left: 0;
  width: 100%;
  background-color: var(--brand-ink, #111);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding: 0 0 2rem 0;
  box-shadow: var(--shadow-natural, 0 10px 20px rgba(0, 0, 0, 0.5));
}

.header__mobile-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.header__mobile-item {
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

.header__mobile-link-wrapper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-right: 1rem;
}

.header__mobile-link {
  display: block;
  padding: 1rem 2rem;
  text-decoration: none;
  color: var(--brand-white, #fff);
  font-weight: var(--weight-medium, 500);
  flex: 1;
}

/* Mobile Submenu Toggle Arrow */
.header__submenu-toggle {
  background: none;
  border: none;
  color: rgba(255,255,255,0.5);
  padding: 0.5rem;
  cursor: pointer;
}

.header__submenu-toggle svg {
  width: 12px;
  height: 12px;
  transition: transform 0.3s ease;
}

.header__submenu-toggle.is-active svg {
  transform: rotate(180deg);
  color: var(--header-accent);
}

/* Mobile Submenu List
   Nested submenu items displayed in accordion format. */
.header__mobile-submenu {
  list-style: none;
  margin: 0;
  padding: 0;
  background-color: var(--brand-black, #000);
}

.header__mobile-submenu-link {
  display: block;
  padding: 0.75rem 0.75rem 0.75rem 3rem;
  text-decoration: none;
  color: var(--brand-stone, #999);
  font-size: var(--text-caption, 0.9rem);
}

.header__mobile-submenu-link:hover {
  color: var(--brand-white, #fff);
}

/* Mobile CTA Button Placement
   Full-width CTA button positioned at the bottom of the mobile menu. */
.header__mobile-item--cta {
  border-bottom: none;
  padding: 1.5rem 2rem;
}

.header__mobile-cta-btn {
  display: block;
  text-align: center;
  background-color: var(--header-accent);
  color: var(--brand-white, #fff);
  text-decoration: none;
  padding: 1rem;
  border-radius: 4px;
  font-weight: var(--weight-semibold, 600);
}

/* ==========================================
   SECTION 7: Variant - Light
   ------------------------------------------
   The "light" variant is designed for pages with light or white backgrounds.
   It applies a light (white) background to the header and uses dark (black)
   text for navigation links, ensuring proper contrast and readability.
   
   Use this variant on pages such as Contact or other content pages
   that do not feature a dark hero image behind the header.
   ========================================== */
.header--light {
  background-color: var(--header-bg-light);
}

/* When the header is positioned over content, remove the background
   to allow the page content to show through. */
.header--light.header--position-over {
  background-color: transparent;
}

/* Navigation link styling for light variant uses dark text. */
.header--light .header__menu-link {
  color: var(--brand-ink, #1a1a1a);
}

/* Hover state changes link color to the brand accent color. */
.header--light .header__menu-link:hover {
  color: var(--header-accent);
}

/* Dropdown chevron icon uses dark fill for visibility on light backgrounds. */
.header--light .header__dropdown-icon {
  fill: var(--brand-ink, #1a1a1a);
}

/* Mobile hamburger menu toggle uses dark color for light backgrounds. */
.header--light .header__mobile-toggle {
  color: var(--brand-ink, #1a1a1a);
}

/* Submenu dropdown panel styling for light variant. */
.header--light .header__submenu {
  background-color: var(--brand-bg-primary, #ffffff);
  box-shadow: var(--shadow-natural, 0 10px 30px rgba(0, 0, 0, 0.15));
}

/* Submenu link text color for light variant. */
.header--light .header__submenu-link {
  color: var(--brand-slate, #333333);
}

/* Submenu link hover state with subtle background highlight. */
.header--light .header__submenu-link:hover {
  background-color: var(--brand-bg-secondary, #f5f5f5);
  color: var(--header-accent);
}

/* Light variant does not apply logo inversion filter.
   The logo file itself should be dark (black) for proper contrast. */
.header--light .header__logo-image {
  filter: none;
}

/* ==========================================
   SECTION 8: Variant - Dark (Default)
   ------------------------------------------
   The "dark" variant is designed for pages with dark backgrounds
   or hero sections with background images. It applies a dark (black)
   background to the header and uses light (white) text for navigation
   links, ensuring proper contrast against dark imagery.
   
   This is the default variant used on landing pages and pages
   featuring full-width hero images.
   ========================================== */
.header--dark {
  background-color: var(--header-bg-dark);
}

/* When the header is positioned over content (e.g., hero images),
   the background becomes transparent to overlay the content seamlessly. */
.header--dark.header--position-over {
  background-color: transparent;
}

/* Navigation link styling for dark variant uses light (white) text. */
.header--dark .header__menu-link {
  color: var(--brand-white, #fefefe);
}

/* Hover state changes link color to the brand accent color. */
.header--dark .header__menu-link:hover {
  color: var(--header-accent);
}

/* Dropdown chevron icon uses light fill for visibility on dark backgrounds. */
.header--dark .header__dropdown-icon {
  fill: var(--brand-white, #fefefe);
}

/* Mobile hamburger menu toggle uses light color for dark backgrounds. */
.header--dark .header__mobile-toggle {
  color: var(--brand-white, #fefefe);
}

/* Submenu dropdown panel styling for dark variant.
   Uses brand ink color to ensure readability of submenu items. */
.header--dark .header__submenu {
  background-color: var(--brand-ink, #1a1a1a);
  box-shadow: var(--shadow-deep, 0 10px 30px rgba(0, 0, 0, 0.5));
}

/* Submenu link text color for dark variant dropdown. */
.header--dark .header__submenu-link {
  color: var(--brand-meta, #cccccc);
}

/* Submenu link hover state with subtle background highlight. */
.header--dark .header__submenu-link:hover {
  background-color: var(--brand-slate, #333333);
  color: var(--header-accent);
}

/* Dark variant applies an inversion filter to the logo image.
   This converts a dark logo to white for visibility on dark backgrounds.
   The logo file should be dark (black), and this filter inverts it. */
.header--dark .header__logo-image {
  filter: brightness(0) invert(1);
}

/* ==========================================
   SECTION 9: Animations
   ------------------------------------------
   Keyframe animations for dropdown and menu transitions.
   ========================================== */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}